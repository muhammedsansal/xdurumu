!function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=e("./app/controllers/homeCtrl"),i=r(o),a=e("./app/resources/city"),c=r(a),s=e("./app/resources/current"),u=r(s),l=e("./app/factories/googleMap"),f=r(l),p=angular.module("weatherHome",["ngResource","ngRoute","ngNotify","ui.bootstrap"]);p.factory("City",["$resource","$location",function(e,t){return new c["default"](e,t)}]).factory("Current",["$resource",function(e){return new u["default"](e)}]).factory("goMapSrv",["$window","$q",function(e,t){return new f["default"](e,t)}]),p.controller("HomeCtrl",["$scope","City","Current","ngNotify","goMapSrv","$q","$location","$window",function(e,t,n,r,o,a,c,s){return new i["default"](e,t,n,r,o,a,c,s)}]),p.config(["$interpolateProvider",function(e){e.startSymbol("[["),e.endSymbol("]]")}])},{"./app/controllers/homeCtrl":3,"./app/factories/googleMap":4,"./app/resources/city":5,"./app/resources/current":6}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this._scope=t,this._notify=n,this._scope.process=!1}return o(e,[{key:"sendErrorNotify",value:function(e){this._notify.set(e,"error")}},{key:"sendSuccessNotify",value:function(e){this._notify.set(e,"success")}},{key:"showProcess",value:function(){this._scope.process=!0}},{key:"hideProcess",value:function(){this._scope.process=!1}}]),e}();t.exports=i},{}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var o=e,i=t,a=n;c=u=s=void 0,r=!1,null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,i);if(void 0!==c){if("value"in c)return c.value;var s=c.get;return void 0===s?void 0:s.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=i,n=a,r=!0}},s=e("./baseCtrl.js"),u=r(s),l=function(e){function t(e,n,r,i,a,s,u,l){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),this._scope=e,this._location=u,this._window=l,this._cities=[],this._scope.search={selected:void 0,cities:[]},this._city=n,this._current=r,this._map=a,this._q=s,this.showProcess(),this.initMap(),this.init()}return i(t,e),a(t,[{key:"init",value:function(){var e=this,t=this._scope.search;this._scope.callCities=function(){return e._cities.length>0?void(t.cities=e._cities):(e.getCities(),void(t.cities=e._cities))},this._scope.iconSuffix=this.nightOrDay(),this._scope.conditions=[],this._scope.conditionCounter=function(t){return e._scope.conditions.filter(function(e){return t===e}).length},this._scope.inCities=function(){return 0===t.cities.length&&e._scope.callCities(),t.cities.filter(function(e){return t.selected&&t.selected.toLowerCase()===e.name.toLowerCase()||t.selected===e.name}).length>0},this._scope.findCity=function(){return e._scope.inCities()?void(e._window.location.href="/havadurumu/"+t.selected):void e.sendErrorNotify("Aradığınız konum bulunamadı ! Benzer isimlerde arama yapmayı deneyin..")},this._scope.callCities()}},{key:"nightOrDay",value:function(){var e=new Date,t=e.getHours();this._iconBase;return t>6&&20>t?"d":"n"}},{key:"getCities",value:function(){var e=this,t=this._city.api().index(),n=function(t){console.error("Cit List not reached !"),e.sendErrorNotify("Konumlara erişilemedi ! Sayfayı yenilemeyi deneyin..")},r=function(t){e._cities=t};t.$promise.then(r,n)}},{key:"getCurrent",value:function(){var e=this._current.resource();return e.indexRandom({cnt:150})}},{key:"createMarkers",value:function(){var e=this;this._scope.markers=[];var t=this.getCurrent(),n=this._q.defer();return t.$promise.then(function(t){var r=[];angular.forEach(t,function(t,n){var o={latitude:Number(t.city.latitude),longitude:Number(t.city.longitude),title:t.city.name,icon:t.conditions[0].icon,options:{draggable:!1}};r.push(o),e._scope.conditions.push(t.conditions[0].icon)}),n.resolve(r)},function(e){n.reject(e)}),n.promise}},{key:"initMap",value:function(){var e=this,t=this._map.getMap(),n=this.createMarkers();n.then(function(n){t.$promise.then(function(t){e._map.addMarkers(n,t)}),e.hideProcess()},function(t){console.error("Weather Currents can not reached !"),console.error(t),e.hideProcess()})}}]),t}(u["default"]);t.exports=l},{"./baseCtrl.js":2}],4:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var o=this;r(this,e),this._defer=n.defer(),this._q=n,t.googleInitMap=function(){o._defer.resolve()},this._dom=t.document,this._url="//maps.googleapis.com/maps/api/js?key=AIzaSyDEOgcVkpgwi7TuYxZqqFultIURU20lyk8&callback=googleInitMap",this._iconBase="http://openweathermap.org/img/w/",this._map={},this.mapInit()}return o(e,[{key:"createScrElm",value:function(){var e=this._dom.createElement("script");return e.src=this._url,this._dom.body.appendChild(e),this._defer.promise}},{key:"mapInit",value:function(){var e=this,t=this.createScrElm(),n=this._q.defer();t.then(function(t){var r=new google.maps.LatLng(39,35),o=e._dom.getElementById("map_canvas"),i=new google.maps.Map(o,{zoom:6,center:r,scrollwheel:!1,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP});n.resolve(i)},function(){n.reject()}),this._map.$promise=n.promise}},{key:"getMap",value:function(){return this._map}},{key:"getIconUrl",value:function(e){var t=new Date,n=t.getHours(),r=this._iconBase;return n>6&&20>n?r+e+"d.png":r+e+"n.png"}},{key:"createWeatherIcon",value:function(e){return{url:this.getIconUrl(e),size:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,32)}}},{key:"addMarkers",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];new google.maps.Marker({position:{lat:r.latitude,lng:r.longitude},map:t,icon:this.createWeatherIcon(r.icon),title:r.title})}}}]),e}();t.exports=i},{}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){r(this,e),this._$resource=t,this._$location=n}return o(e,[{key:"api",value:function(){var e=this.getUrl();return this._$resource(e,{},{index:{method:"GET",params:{only:"name,slug"},isArray:!0,cache:!0}})}},{key:"getUrl",value:function(){var e=this.getHost(),t=this._$location.port();t=80===t?"":":"+t;var n="api",r="city/:id",o="http://"+n+"."+e+t+"/"+r;return o}},{key:"getHost",value:function(){var e=this._$location.host(),t=e.split("."),n=[];return angular.forEach(t,function(e,t){t>0&&this.push(e)},n),n.join(".")}}]),e}();t.exports=i},{}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this._$resource=t,this._url="/anlik/:id"}return o(e,[{key:"resource",value:function(){var e=this._url;return this._$resource(e,{},{index:{method:"GET",isArray:!0,cache:!0},indexRandom:{method:"GET",params:{mode:"rand",cnt:":cnt"},isArray:!0,cache:!0}})}}]),e}();t.exports=i},{}]},{},[1]);
//# sourceMappingURL=bundle.js.map