!function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("./app/controllers/homeCtrl"),i=n(o),a=e("./app/resources/city"),u=n(a),c=e("./app/resources/current"),s=n(c),l=e("./app/factories/googleMap"),f=n(l),p=angular.module("weatherHome",["ngResource","ngRoute","ngNotify"]);p.factory("City",["$resource",function(e){return new u["default"](e)}]).factory("Current",["$resource",function(e){return new s["default"](e)}]).factory("goMapSrv",["$window","$q",function(e,t){return new f["default"](e,t)}]),p.controller("HomeCtrl",["$scope","City","Current","ngNotify","goMapSrv","$q",function(e,t,r,n,o,a){return new i["default"](e,t,r,n,o,a)}]),p.config(["$interpolateProvider",function(e){e.startSymbol("[["),e.endSymbol("]]")}])},{"./app/controllers/homeCtrl":3,"./app/factories/googleMap":4,"./app/resources/city":5,"./app/resources/current":6}],2:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){n(this,e),this._scope=t,this._notify=r,this._scope.process=!1}return o(e,[{key:"sendErrorNotify",value:function(e){this._notify.set(e,"error")}},{key:"sendSuccessNotify",value:function(e){this._notify.set(e,"success")}},{key:"showProcess",value:function(){this._scope.process=!0}},{key:"hideProcess",value:function(){this._scope.process=!1}}]),e}();t.exports=i},{}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=s=c=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var c=u.get;return void 0===c?void 0:c.call(a)}var s=Object.getPrototypeOf(o);if(null===s)return void 0;e=s,t=i,r=a,n=!0}},c=e("./baseCtrl.js"),s=n(c),l=function(e){function t(e,r,n,i,a,c){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,i),this._scope=e,this._city=r,this._current=n,this._map=a,this._q=c,this.showProcess(),this.initMap()}return i(t,e),a(t,[{key:"getCurrent",value:function(){var e=this._current.resource();return e.indexRandom({cnt:150})}},{key:"createMarkers",value:function(){this._scope.markers=[];var e=this.getCurrent(),t=this._q.defer();return e.$promise.then(function(e){var r=[];angular.forEach(e,function(e,t){var n={latitude:Number(e.city.latitude),longitude:Number(e.city.longitude),title:e.city.name,icon:e.conditions[0].icon,options:{draggable:!1}};r.push(n)}),t.resolve(r)},function(e){t.reject(e)}),t.promise}},{key:"initMap",value:function(){var e=this,t=this._map.getMap(),r=this.createMarkers();r.then(function(r){t.$promise.then(function(t){e._map.addMarkers(r,t)}),e.hideProcess()},function(t){console.error("Weather Currents can not reached !"),console.error(t),e.hideProcess()})}}]),t}(s["default"]);t.exports=l},{"./baseCtrl.js":2}],4:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){var o=this;n(this,e),this._defer=r.defer(),this._q=r,t.googleInitMap=function(){o._defer.resolve()},this._dom=t.document,this._url="//maps.googleapis.com/maps/api/js?key=AIzaSyDEOgcVkpgwi7TuYxZqqFultIURU20lyk8&callback=googleInitMap",this._iconBase="http://openweathermap.org/img/w/",this._map={},this.mapInit()}return o(e,[{key:"createScrElm",value:function(){var e=this._dom.createElement("script");return e.src=this._url,this._dom.body.appendChild(e),this._defer.promise}},{key:"mapInit",value:function(){var e=this,t=this.createScrElm(),r=this._q.defer();t.then(function(t){var n=new google.maps.LatLng(39,35),o=e._dom.getElementById("map_canvas"),i=new google.maps.Map(o,{zoom:6,center:n,scrollwheel:!1,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP});r.resolve(i)},function(){r.reject()}),this._map.$promise=r.promise}},{key:"getMap",value:function(){return this._map}},{key:"createWeatherIcon",value:function(e){return{url:this._iconBase+e+".png",size:new google.maps.Size(50,50),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,32)}}},{key:"addMarkers",value:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];console.log(n);new google.maps.Marker({position:{lat:n.latitude,lng:n.longitude},map:t,icon:this.createWeatherIcon(n.icon),title:n.title})}}}]),e}();t.exports=i},{}],5:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){n(this,e),this._$resource=t,this._url="/back/city/:id"}return o(e,[{key:"resource",value:function(){var e=this._url;return this._$resource(e,{},{index:{method:"GET",isArray:!0,cache:!1},show:{method:"GET",isArray:!1,cache:!1},update:{method:"PUT",params:{id:"@id"},isArray:!1,cache:!1}})}}]),e}();t.exports=i},{}],6:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){n(this,e),this._$resource=t,this._url="/anlik/:id"}return o(e,[{key:"resource",value:function(){var e=this._url;return this._$resource(e,{},{index:{method:"GET",isArray:!0,cache:!0},indexRandom:{method:"GET",params:{mode:"rand",cnt:":cnt"},isArray:!0,cache:!0}})}}]),e}();t.exports=i},{}]},{},[1]);
//# sourceMappingURL=bundle.js.map