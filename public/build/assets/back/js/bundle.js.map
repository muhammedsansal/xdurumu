{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","resources/assets/js/admin/app.js","resources/assets/js/admin/app/controllers/baseCtrl.js","resources/assets/js/admin/app/controllers/cityCtrl.js","resources/assets/js/admin/app/controllers/cityEditCtrl.js","resources/assets/js/admin/app/controllers/panelCtrl.js","resources/assets/js/admin/app/resources/city.js"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n/**\n * Angular 1.4.x App\n *\n * This file writes with ECMA Script 6-7\n */\n\nimport PanelCtrl \tfrom './app/controllers/panelCtrl.js';\nimport CityCtrl \tfrom './app/controllers/cityCtrl.js';\nimport CityEditCtrl\tfrom './app/controllers/cityEditCtrl.js';\n//import dataTable\tfrom './app/directives/dataTable.js';\nimport City\t\t\tfrom './app/resources/city.js';\n\n/**\n * create  Angular App Instance\n */\nlet  myApp = angular.module('panelApp',['ngRoute','ngResource','uiGmapgoogle-maps', 'ngNotify']);\n\n/**\n * Directives\n */\n//myApp.directive('jqDataTable', dataTable);\n\n\n/**\n * Services*\n */\nmyApp.factory('City', ['$resource', ($resource) => new City($resource)]);\n\n\n/**\n * Controllers\n */\nmyApp\n\t.controller('PanelCtrl', \n\t\t\t['$scope',($scope) => \n\t\t\tnew  PanelCtrl($scope)])\n\n \t.controller('CityCtrl',\t\n\t\t\t['$scope',\t'$filter', \t'City', 'ngNotify',\t($scope,$filter, City, ngNotify) => \n\t\t\tnew CityCtrl($scope,$filter, City, ngNotify)])\n\n  \t.controller('CityEditCtrl', \n\t\t\t['$scope', 'City', '$routeParams','uiGmapGoogleMapApi', 'ngNotify', ($scope, City, $routeParams, uiGmapGoogleMapApi, ngNotify) => \n\t\t\tnew CityEditCtrl( $scope, City, $routeParams, uiGmapGoogleMapApi, ngNotify )] );\n\n/**\n * Setting Angular APP\n *\n * Google MAP API Key : AIzaSyDEOgcVkpgwi7TuYxZqqFultIURU20lyk8\n */\nmyApp.config( ($interpolateProvider, $routeProvider ,uiGmapGoogleMapApiProvider) =>  {\n\n\t/*\n\t * Change  Angular default interpolote Symbol to avoid \n\t * Laravel blade interpolate symbol\n\t */\t\n\t$interpolateProvider.startSymbol('[[');\n\t$interpolateProvider.endSymbol(']]');\n\n\t/**\n\t * Application Routing\n\t */\n\t$routeProvider.\n\n\t\twhen('/', {\n\t\t\ttemplateUrl: '/assets/back/app/views/panel.html',\n\t\t\tcontroller: 'PanelCtrl',\n\t\t})\n\t\t.when('/cities', {\n\n\t\t\ttemplateUrl: '/assets/back/app/views/cities.html',\n\t\t\tcontroller: 'CityCtrl',\n\t\t})\n\t\t.when('/cities/:cityId', {\n\t\t\t\n\t\t\ttemplateUrl: '/assets/back/app/views/cityEdit.html',\n\t\t\tcontroller: 'CityEditCtrl',\n\n\t\t\t\t\t\n\t\t}).\n\t\totherwise({\n\n\t\t\tredirectTo: '/cities'\n\t\t});\n\t\n\t/**\n\t * Google MAP Angular Plugins Configurations\n\t * Look at: http://angular-ui.github.io/angular-google-maps/#!/api/GoogleMapApi\n\t */\n\t uiGmapGoogleMapApiProvider.configure({\n\t\t    \n\t\t key: 'AIzaSyDEOgcVkpgwi7TuYxZqqFultIURU20lyk8',\n\t\t v: '3.17',\n\t \t //libraries: 'weather,geometry,visualization'\n\t });\n\t\t  \n});\n\n\n\n","/**\n * Base Controller\n *\n * @param {object} $scope \tAngular $scope\n */\nclass BaseCtrl  {\n\n\tconstructor( $scope, ngNotify ) {\n\n\t\tthis._scope \t\t= $scope;\n\t\tthis._notify  \t\t= ngNotify;\n\t\tthis._scope.process = false\n\t}\n\n\t/**\n\t * To send error notify\n\t */\n\tsendErrorNotify(msg) {\n\n\t\tthis._notify.set(msg, 'error');\n\t}\n\n\t/**\n\t * To send success notify\n\t */\n\tsendSuccessNotify(msg) {\n\n\t\tthis._notify.set(msg, 'success');\n\t}\n\n\t/**\n\t * Show Procces\n\t *\n\t */\n\tshowProcess() {\n\n\t\tthis._scope.process = true;\n\t}\n\n\t/**\n\t * Hide Procces\n\t */\n\thideProcess() {\n\n\t\tthis._scope.process = false;\n\t}\n\t\n}\n\nmodule.exports = BaseCtrl;\n","import Base  from './baseCtrl.js';\n\n\n/**\n * City Controller\n *\n * @param {object} $scope \tAngular $scope\n */\nclass CityCtrl extends Base {\n\n\tconstructor($scope, $filter, City, ngNotify) {\n\n\t\tsuper($scope, ngNotify);\t\n\n\t\tthis._city = City;\n\n\t\tthis.init();\n\n\t\tthis._scope.predicate = 'priority';\n\t\tthis._scope.reverse = true;\n\n\t\t\t\n\t\tthis._scope.incPriority = (event, city)  => {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tthis.incrementsPriority('inc', city);\n\t\t};\n\n\t\tthis._scope.decrPriority= (event, city)  => {\n\n\t\t\tevent.stopPropagation();\n\n\t\t\tthis.incrementsPriority('decr', city);\n\t\t};\n\t}\n\n\t/**\n\t * To increment City Priority\n\t */\n\tincrementsPriority(type='inc', city) {\n\n\t\tlet resource = this._city.resource();\n\n\t\tvar  beforePriority = city.priority;\n\n\t\tif ('inc' === type) {\n\n\t\t\tcity.priority--;\n\n\t\t} else {\n\n\t\t\tcity.priority++;\n\t\t}\n\n\t\tlet request = resource.update(city);\n\n\t\trequest.$promise.then( (res) => {\t\t\n\n\t\t\tthis.sendSuccessNotify( city.name + ' başarıyla güncellendi.');\n\t\t\t\n\t\t}, (res) => {\n\n\t\t\tthis.sendErrorNotify(city.name + ' güncellenirken bir hata oluştu!');\n\t\t\t\n\t\t\tcity.priority = beforePriority;\n\t\t\t\n\t\t\tconsole.error(res);\t\n\t\t});\n\t}\n\n\t/**\n\t * To get all\n\t */\n\tindex() {\n\n\t\tthis.showProcess();\n\n\t\tlet city =  this._city.resource();\n\n\t\treturn city.index();\n\t}\n\n\n\tinit() {\n\n\t\tlet cities = this.index();\n\n\t\tcities.$promise.then( (res) => {\t\t\n\t\t\n\t\t\t_scope.cities = res;\n\n\t\t\tthis.hideProcess();\n\n\t\t});\n\n\t\tlet _scope = this._scope;\n\n\t\t/**\n\t\t * Adding method to $scope\n\t\t */\n\t\t_scope.order = (predicate) => {\n\n\t\t\t_scope.reverse = (_scope.predicate === predicate) \n\t\t\t\t? !_scope.reverse \n\t\t\t\t: false;\n\t\t\t_scope.predicate = predicate;\n\t\t}\n\t}\t\n\n\n\n\n}\n\nmodule.exports = CityCtrl;\n","import Base  from './baseCtrl.js';\n\n/**\n * City Edit  Controller\n *\n * @param {object} $scope \tAngular $scope\n * @param {object} $filter  Angular Filter\n * @param {object} service to access city data via ajax.\n */\nclass CityEditCtrl extends Base {\n\n\tconstructor($scope, City, $routeParams, uiGmapGoogleMapApi, ngNotify ) {\n\n\t\tsuper($scope, ngNotify);\n\n\t\tthis._resource = City.resource();\n\n\t\tthis._wantedID = $routeParams.cityId;\n\n\t\tthis._googleMap = uiGmapGoogleMapApi;\n\n\t\tthis.init();\n\n\t\tthis._scope.priority =  [\n\n\t\t\t{id: '1', name: 'Yüksek'},\n\t\t\t{id: '2', name: 'Normal'},\n\t\t\t{id: '3', name: 'Düşük'}\n\t\t];\t\n\t\t\n\t}\n\n\t/**\n\t * SHow City\n\t */\n\tshowCity() {\n\n\t\tthis.showProcess();\n\n\t\tlet city \t= this._resource;\n\t\tlet id \t\t= this._wantedID; \n\t\tlet request =city.show( { id: id});\n\n\t\trequest.$promise.then( (res) => {\n\t\t\t\n\t\t\tthis._scope.city = res;\n\n\t\t\tthis.mapInit(res);\n\n\t\t\tthis.hideProcess();\n\t\t\n\t\t},(res) => {\n\n\t\t\tthis.hideProcess();\n\n\t\t\tthis.sendErrorNotify('Sunucuya erişirken bir hata oldu! Sayfayı yenilemeyi deneyin.');\t\t\n\t\t});\n\t}\n\n\t/**\n\t * Update City\n\t *\n\t */\n\tupdate() {\n\n\t\tthis.showProcess();\n\n\t\tlet resource = this._resource;\n\n\t\tlet city = this._scope.city;\n\n\t\tlet request = resource.update(city);\n\n\t\tthis.sendSuccessNotify('Your error message goes here!');\n\t\t\n\t\t/**\n\t\t * Success Response\n\t\t */\t\n\t\tlet success =  (res) => {\n\n\t\t\tthis.hideProcess();\n\n\t\t\tthis.sendSuccessNotify( city.name +  ' konum bilgisi başarıyla güncellendi.')\t\n\t\t};\n\n\t\t/**\n\t\t * Error Response\n\t\t */\n\t\tlet error = (res) => {\n\n\t\t\tthis.hideProcess();\n\n\t\t\tlet code\t= new String(res.status);\n\n\t\t\tlet text \t= res.statusText;\n\n\t\t\tlet srvMsg\t= JSON.stringify(res.data);\n\n\t\t\tlet msg =  '\"' + city.name + '\"' + ' konum bilgisi güncellenemedi. Hata Kodu: ' + code + ', Hata mesajı: ' + text + ', Sunucu cevabı: ' + srvMsg  ; \n\n\t\t\tthis.sendErrorNotify( msg );\n\t\t};\n\n\t\trequest.$promise.then( success, error );\t\n\t}\t\n\n\t/**\n\t * First jobs\n\t */\n\tinit() {\n\n\t\tthis.showCity();\n\n\t\t\t// adding city update methods for clicking\n\t\tthis._scope.update = () => {\n\n\t\t\tthis.update();\t\t\n\t\t};\n\n\t\t/*\n\t\t * If it is true, it shows overlay div \n\t\t * for user\n\t\t */\n\t\tthis._scope.proccess = false;\n\t}\n\t\n\t/**\n\t * Google Map\n\t */\n\tmapInit(res) {\n\t\t/**\n\t\t * Example Response\n\t\t * {\n\t\t * \tid: \"1327\", \n\t\t * \tname: \"Karaçalı\", \n\t\t * \tcountry: \"TR\", \n\t\t * \tlatitude: \"41.10810900\", \n\t\t * \tlongitude: \"30.31860900\"\n\t\t * \t}\n\t\t */\n\t\t\n\t\t this._scope.map = {\n\t\t\t \n\t\t\t \tcenter: { \n\n\t\t\t\t\tlatitude: res.latitude, \n\t\t\t\t\tlongitude: res.longitude \n\t\t\t\t}, \n\n\t\t\t\tzoom: 9 \n\t\t };\n\n\t\t/**\n\t\t * Map Options\n\t\t */\n\t\t this._scope.options = {scrollwheel: true};\n\n\t\t/**\n\t\t * Adds Location Markes on map\n\t\t */\n\t\t this._googleMap.then((maps) => {\n\t\t \n\t\t\t this._scope.marker = {\n\n\t\t\t\t id: 0,\n\t\t\t     coords: {\n\t\t\t\t\t \n\t\t\t\t\t latitude\t: res.latitude,\n\t\t\t         longitude\t: res.longitude,\n\t\t\t\t },\n\t\t\t \t\n\t\t\t \toptions: { draggable: true },\n\t\t\t };\n\t\t\t    \n\t\t});\n\t}\n}\n\nmodule.exports = CityEditCtrl;\n","/**\n * Panel Controller\n */\n\nclass PanelCtrl {\n\n\tconstructor($scope) {\n\n\t\tthis._$scope = $scope;\n\n\t\tthis._$scope.name = 'I am Panel Controller';\n\n\t}\n\n}\n\n\nmodule.exports = PanelCtrl;\n","\n/**\n * A resource to access city  restful services server-side\n */\n\nclass City {\n\n\tconstructor($resource) {\n\n\t\tthis._$resource = $resource;\n\n\t\tthis._url = '/back/city/:id';\n\t\t\n\t}\n\n\t/**\n\t * City Update Resonse Example\n\t * \n\t * When if it is failed! \n\t *\n\t *  http code: 500\n\t *  response: \t{\"code\":\"500\",\"msg\":\"City is not updated\"} \n\t *\n\t *  When it is successed!\n\t *\n\t *  http code: 204\n\t *  response: '' (empty string)\n\t *\n\t\n\t/**\n\t * To get index resource\n\t */\n\tresource() {\n\n\t\tlet url = this._url;\n\n\t\treturn this._$resource(url, {}, {\n\t\t\n\t\t\t'index' \t: { method: 'GET',  isArray:true, cache:false},\n\t\t\t'show'\t\t: { method: 'GET',  isArray:false, cache: false},\n\t\t\t'update'\t: { method: 'PUT', params: {id:'@id'},  isArray: false, cache: false},  \n\t\t});\n\n\t}\n}\n\nmodule.exports = City; \n"]}